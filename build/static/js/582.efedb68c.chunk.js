"use strict";(self.webpackChunkreactiquiz=self.webpackChunkreactiquiz||[]).push([[582],{582:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var r=a(267),s=a(3969),l=a(172),o=a(5895),n=a(4799),i=a(2097),c=a(6803),d=a(3089),u=a(9002),x=a(7304),m=(a(8664),a(5016)),h=a(9379),p=a(5043),g=a(1176),b=a(1909),v=a(4653),y=a(7257),j=a(8756),A=a(3086),f=a(9950),S=a(9826),C=a(411),z=a(7762),P=a(5239),k=a.n(P);const F=async e=>{if(!e)return null;const t=e.querySelector("canvas");if(!t)return console.error("PDF Gen: Could not find a canvas element to capture."),null;const a=x.t1.getChart(t);if(!a)return console.error("PDF Gen: Could not get Chart.js instance from the canvas."),null;const r=JSON.parse(JSON.stringify(a.options)),s=e.querySelector(".MuiPaper-root"),l=s?s.style.backgroundColor:"";try{const t="#212121",r="#d1d1d1";a.options.plugins.legend&&(a.options.plugins.legend.labels.color=t),a.options.plugins.title&&(a.options.plugins.title.color=t),a.options.scales.x&&(a.options.scales.x.title.color=t,a.options.scales.x.ticks.color=t,a.options.scales.x.grid.color=r),a.options.scales.y&&(a.options.scales.y.title.color=t,a.options.scales.y.ticks.color=t,a.options.scales.y.grid.color=r),a.update("none"),s&&(s.style.backgroundColor="transparent");return(await k()(e,{scale:2,useCORS:!0,backgroundColor:"#ffffff"})).toDataURL("image/png")}catch(o){return console.error("PDF Gen: Error during chart capture:",o),null}finally{a.options.plugins=r.plugins,a.options.scales=r.scales,a.update("none"),s&&(s.style.backgroundColor=l)}},w=async e=>{let{currentUser:t,overallStats:a,activityChartElement:r,subjectAveragesChartElement:s,topicPerformanceElement:l,isSubjectSelected:o,timeFrequencyLabel:n}=e;if(!t)return alert("User data not available for report."),!1;if(!r)return alert("Activity Chart element not found. Cannot generate PDF."),!1;try{const e=new z.Ay({orientation:"portrait",unit:"mm",format:"a4"}),i=e.internal.pageSize.getWidth(),c=e.internal.pageSize.getHeight(),d=15,u=i-2*d;let x=d;if(e.setFontSize(22),e.setFont(void 0,"bold"),e.text("ReactiQuiz User Analytics Report",i/2,x,{align:"center"}),x+=10,e.setFontSize(14),e.setFont(void 0,"normal"),e.text("User: ".concat(t.name||"N/A"),d,x),x+=7,e.text("Report Generated: ".concat((0,A.GP)(new Date,"MMM d, yyyy HH:mm")),d,x),x+=7,e.text("Time Period: ".concat(n),d,x),x+=10,e.setFontSize(16),e.setFont(void 0,"bold"),e.text("Overall Performance",d,x),x+=7,e.setFontSize(12),e.setFont(void 0,"normal"),e.text("- Total Quizzes Solved: ".concat(a.totalQuizzes),d+5,x),x+=6,e.text("- Overall Average Score: ".concat(a.overallAverageScore,"%"),d+5,x),x+=10,o&&l){x+7>c-d&&(e.addPage(),x=d);const t=await(async e=>{if(!e)return null;const t=e.querySelector(".MuiPaper-root"),a=t?t.style.backgroundColor:"",r=e.querySelectorAll(".MuiTypography-root, .MuiListItemText-primary, .MuiListItemText-secondary"),s=[];try{return t&&(t.style.backgroundColor="transparent"),r.forEach((e=>{s.push({element:e,color:e.style.color}),e.style.color="#000000"})),(await k()(e,{scale:2,useCORS:!0,backgroundColor:"#ffffff"})).toDataURL("image/png")}catch(l){return console.error("PDF Gen: Error capturing element:",l),null}finally{t&&(t.style.backgroundColor=a),s.forEach((e=>{e.element.style.color=e.color}))}})(l);if(t){const a=e.getImageProperties(t);let r=a.height*u/a.width;r>c-d-x-5&&(r=c-d-x-5),x+r>c-d&&(e.addPage(),x=d),e.addImage(t,"PNG",d,x,u,r),x+=r+10}}x+7>c-d&&(e.addPage(),x=d),e.setFontSize(16),e.setFont(void 0,"bold"),e.text("Quiz Activity Overview",d,x),x+=7;const m=await F(r);if(m){const t=e.getImageProperties(m);let a=t.height*u/t.width;a>c-d-x-5&&(a=c-d-x-5),x+a>c-d&&(e.addPage(),x=d,e.setFontSize(16),e.setFont(void 0,"bold"),e.text("Quiz Activity Overview (Continued)",d,x),x+=7),e.addImage(m,"PNG",d,x,u,a),x+=a+10}else e.setFontSize(10),e.setFont(void 0,"italic"),e.text("- Could not render activity chart -",d,x),x+=10;if(!o){x+7>c-d&&(e.addPage(),x=d),e.setFontSize(16),e.setFont(void 0,"bold"),e.text("Average Score by Subject",d,x),x+=7;const t=await F(s);if(t){const a=e.getImageProperties(t);let r=a.height*u/a.width;r>c-d-x-5&&(r=c-d-x-5),x+r>c-d&&(e.addPage(),x=d,e.setFontSize(16),e.setFont(void 0,"bold"),e.text("Average Score by Subject (Continued)",d,x),x+=7),e.addImage(t,"PNG",d,x,u,r)}else e.setFontSize(10),e.setFont(void 0,"italic"),e.text("- Subject averages chart is not applicable for this view or failed to render. -",d,x)}return e.save("ReactiQuiz_Report_".concat(t.name,"_").concat((0,A.GP)(new Date,"yyyyMMdd"),".pdf")),!0}catch(i){return console.error("Error generating PDF report:",i),alert("Failed to generate PDF report. See console for details."),!1}},D=[{value:7,label:"Last 7 Days"},{value:30,label:"Last 30 Days"},{value:90,label:"Last 90 Days"},{value:365,label:"Last Year"},{value:"all",label:"All Time"}];var R=a(256),M=a(9067),q=a(4938),L=a(7471),N=a(579);const T=[{value:7,label:"Last 7 Days"},{value:30,label:"Last 30 Days"},{value:90,label:"Last 90 Days"},{value:365,label:"Last Year"},{value:"all",label:"All Time"}];const G=function(e){let{timeFrequency:t,onTimeFrequencyChange:a,allSubjects:r,selectedSubject:s,onSubjectChange:l}=e;const i=T.some((e=>e.value===t))?t:30;return(0,N.jsx)(n.A,{elevation:3,sx:{p:{xs:1.5,sm:2},mb:3},children:(0,N.jsxs)(d.A,{container:!0,spacing:{xs:"1%",sm:"1%",md:"1%",lg:"1%",xl:"1%"},children:[(0,N.jsx)(d.A,{item:!0,width:{xs:"100%",sm:"100%",md:"49%",lg:"49%",xl:"49%"},children:(0,N.jsx)(o.A,{variant:"h6",color:"text.primary",sx:{mb:2,fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:"Dashboard Filters"})}),(0,N.jsx)(d.A,{item:!0,width:{xs:"49.5%",sm:"49.5%",md:"24.5%",lg:"24.5%",xl:"24.5%"},children:(0,N.jsxs)(R.A,{size:"small",fullWidth:!0,children:[(0,N.jsx)(M.A,{id:"time-freq-main-label",children:"Time Period"}),(0,N.jsx)(q.A,{labelId:"time-freq-main-label",value:i,label:"Time Period",onChange:a,children:T.map((e=>(0,N.jsx)(L.A,{value:e.value,children:e.label},e.value)))})]})}),(0,N.jsx)(d.A,{item:!0,width:{xs:"49.5%",sm:"49.5%",md:"24.5%",lg:"24.5%",xl:"24.5%"},children:(0,N.jsxs)(R.A,{size:"small",fullWidth:!0,children:[(0,N.jsx)(M.A,{id:"subject-filter-label",children:"Subject"}),(0,N.jsxs)(q.A,{labelId:"subject-filter-label",value:s,label:"Subject",onChange:l,disabled:!r||0===r.length,children:[(0,N.jsx)(L.A,{value:"all",children:"All Subjects"}),r.map((e=>(0,N.jsx)(L.A,{value:e.subjectKey,children:e.name},e.subjectKey)))]})]})})]})})};var O=a(6058);const E=(0,p.forwardRef)(((e,t)=>{var a;let{chartData:l,chartOptions:i}=e;const c=(0,r.A)();return(0,N.jsxs)(n.A,{ref:t,elevation:3,sx:{p:{xs:1,sm:2},mt:3,backgroundColor:c.palette.background.paper},children:[(0,N.jsx)(o.A,{variant:"h6",sx:{color:c.palette.text.primary,ml:{xs:1,sm:0},mb:2},children:"Average Score by Subject"}),(0,N.jsx)(s.A,{sx:{height:"".concat(Math.max(300,40*((null===l||void 0===l||null===(a=l.labels)||void 0===a?void 0:a.length)||0)),"px"),width:"100%"},children:l&&l.labels&&l.labels.length>0?(0,N.jsx)(O.yP,{options:i,data:l}):(0,N.jsx)(o.A,{sx:{textAlign:"center",color:c.palette.text.secondary,pt:5},children:"No subject data with solved quizzes for the selected period."})})]})}));var I=a(6013),Q=a(2248);function W(e){let{title:t,subject:a,icon:r,color:l}=e;return(0,N.jsxs)(n.A,{sx:{p:2,textAlign:"center",height:"100%",borderTop:"4px solid ".concat(l)},children:[(0,N.jsxs)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1,mb:.5},children:[r,(0,N.jsx)(o.A,{variant:"h6",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.125rem"}},children:t})]}),(0,N.jsx)(o.A,{variant:"h5",sx:{color:l,fontWeight:"bold",fontSize:{xs:"1.5rem",sm:"2rem"}},children:a?a.name:"N/A"}),(0,N.jsxs)(o.A,{variant:"body1",color:"text.primary",children:[a?"".concat(a.average,"% avg"):"-",(0,N.jsx)(o.A,{variant:"caption",color:"text.secondary",children:a?" over ".concat(a.count," quiz(zes)"):""})]})]})}const U=function(e){let{bestSubject:t,weakestSubject:a}=e;const s=(0,r.A)();return t?(0,N.jsx)(W,{title:"Best Subject",subject:t,icon:(0,N.jsx)(I.A,{sx:{color:s.palette.success.main,fontSize:"2rem"}}),color:s.palette.success.main}):a?(0,N.jsx)(W,{title:"Needs Focus",subject:a,icon:(0,N.jsx)(Q.A,{sx:{color:s.palette.error.main,fontSize:"2rem"}}),color:s.palette.error.main}):null};x.t1.register(x.PP,x.kc,x.FN,x.No,x.hE,x.m_,x.s$,x.UA);const H=(0,p.forwardRef)(((e,t)=>{let{activityData:a,timeFrequency:l}=e;const i=(0,r.A)(),c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:i.palette.text.primary}},title:{display:!1},tooltip:{callbacks:{title:function(e){const t=(0,v.H)(e[0].label);return(0,y.f)(t)?(0,A.GP)(t,"PPP"):e[0].label}}}},scales:{x:{type:"time",time:{unit:7===l||30===l?"day":90===l?"week":"month",tooltipFormat:"PPP",displayFormats:{day:"MMM d",week:"MMM d, yy",month:"MMM yyyy"}},ticks:{color:i.palette.text.secondary,maxRotation:0,autoSkipPadding:10},grid:{color:(0,S.X4)(i.palette.text.secondary,.1)}},y:{beginAtZero:!0,ticks:{color:i.palette.text.secondary,stepSize:1},grid:{color:(0,S.X4)(i.palette.text.secondary,.1)},title:{display:!0,text:"Number of Quizzes",color:i.palette.text.secondary}}},interaction:{intersect:!1,mode:"index"}};return(0,N.jsxs)(n.A,{ref:t,elevation:3,sx:{p:{xs:1,sm:2},mt:3,backgroundColor:i.palette.background.paper},children:[(0,N.jsx)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexWrap:"wrap"},children:(0,N.jsx)(o.A,{variant:"h6",sx:{color:i.palette.text.primary,ml:{xs:1,sm:0}},children:"Activity Overview"})}),(0,N.jsx)(s.A,{sx:{height:{xs:"300px",sm:"350px",md:"400px"},width:"100%"},children:a&&a.labels&&a.labels.length>0?(0,N.jsx)(O.N1,{options:c,data:a}):(0,N.jsx)(o.A,{sx:{textAlign:"center",color:i.palette.text.secondary,pt:5},children:"No quiz activity for the selected period."})})]})}));var B=a(4917);const X=function(e){let{onGenerate:t,isLoading:a,accentColor:r}=e;return(0,N.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,N.jsx)(i.A,{variant:"contained",color:"primary",startIcon:(0,N.jsx)(B.A,{}),onClick:t,disabled:a,sx:{backgroundColor:r,"&:hover":{backgroundColor:e=>e.palette.augmentColor({color:{main:r}}).dark},minWidth:"200px",py:1.5},children:a?"Generating PDF...":"Download Report PDF"})})};var _=a(5315),K=a(2394),Y=a(6185),Z=a(6020),J=a(4527);const $=function(e){let{topics:t,subjectName:a}=e;const l=(0,r.A)();return t&&0!==t.length?(0,N.jsxs)(n.A,{elevation:3,sx:{p:{xs:1.5,sm:2.5},mt:3},children:[(0,N.jsxs)(o.A,{variant:"h6",sx:{mb:2},children:["Topic Performance in ",a]}),(0,N.jsx)(_.A,{children:t.map(((e,a)=>(0,N.jsxs)(p.Fragment,{children:[(0,N.jsxs)(K.Ay,{children:[(0,N.jsx)(Y.A,{primary:e.name,secondary:"".concat(e.count," quiz(zes) taken"),sx:{flexBasis:"60%"}}),(0,N.jsxs)(s.A,{sx:{width:"100%",flexBasis:"40%",ml:2},children:[(0,N.jsxs)(o.A,{variant:"body2",sx:{textAlign:"right",fontWeight:"bold"},children:[e.average,"%"]}),(0,N.jsx)(Z.A,{variant:"determinate",value:e.average,sx:{height:8,borderRadius:4,backgroundColor:(0,S.X4)(l.palette.grey[500],.2),"& .MuiLinearProgress-bar":{backgroundColor:l.palette.info.main}}})]})]}),a<t.length-1&&(0,N.jsx)(J.A,{component:"li"})]},e.id)))})]}):(0,N.jsx)(n.A,{elevation:3,sx:{p:3,mt:3,textAlign:"center"},children:(0,N.jsxs)(o.A,{color:"text.secondary",children:["No quizzes taken for any specific topic in ",a," during this period."]})})},V={position:"absolute",top:"-9999px",left:"-9999px",width:"1000px",height:"600px"};x.t1.register(x.PP,x.kc,x.E8,x.FN,x.No,x.UA,x.hE,x.m_,x.s$);const ee=function(){var e,t;const a=(0,r.A)(),x=(0,u.Zp)(),{currentUser:z,isLoadingAuth:P}=(0,m.A)(),k=(null===(e=a.palette.dashboardAccent)||void 0===e?void 0:e.main)||a.palette.grey[700],{userResults:F,allSubjects:R,isLoadingData:M,error:q,timeFrequency:L,isGeneratingPdf:T,processedStats:O,subjectAverageScoreChartOptions:I,activityChartRef:Q,topicPerformanceRef:W,subjectAveragesChartRef:B,fetchDashboardData:_,handleTimeFrequencyChange:K,handleGenerateReport:Y,handleSubjectChange:Z,selectedSubject:J}=(e=>{const t=(0,r.A)(),[a,s]=(0,p.useState)([]),[l,o]=(0,p.useState)([]),[n,i]=(0,p.useState)([]),[c,d]=(0,p.useState)(!0),[u,x]=(0,p.useState)(""),m=(0,p.useRef)(null),[z,P]=(0,p.useState)(30),[k,F]=(0,p.useState)("all"),[R,M]=(0,p.useState)(!1),q=(0,p.useRef)(null),L=(0,p.useRef)(null),N=(0,p.useCallback)((async()=>{if(e&&e.id){d(!0),x("");try{const[t,a,r]=await Promise.all([C.A.get("/api/results?userId=".concat(e.id),{headers:{Authorization:"Bearer ".concat(e.token)}}),C.A.get("/api/subjects"),C.A.get("/api/topics")]);s((t.data||[]).map((e=>(0,h.A)((0,h.A)({},e),{},{percentage:parseFloat(e.percentage)}))).filter((e=>!isNaN(e.percentage)))),o(a.data||[]),i(r.data||[])}catch(r){var t,a;x("Failed to load dashboard data: ".concat((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||r.message))}finally{d(!1)}}else d(!1)}),[e]);(0,p.useEffect)((()=>{N()}),[N]);const T=(0,p.useMemo)((()=>{if(!a||0===l.length)return{filteredResults:[],totalQuizzes:0,overallAverageScore:0,subjectStats:{},activityData:{labels:[],datasets:[]},subjectAverageScoreChartData:{labels:[],datasets:[]},bestSubject:null,weakestSubject:null,topicPerformance:[]};const e=(0,g.o)(new Date),r="all"===z?(0,g.o)((0,b.j)(a.map((e=>(0,v.H)(e.timestamp))).filter(y.f))):(0,g.o)((0,j.e)(e,Number(z)-1));let s=a.filter((t=>{const a=(0,v.H)(t.timestamp);return(0,y.f)(a)&&a>=r&&a<=e}));const o="all"===k?s:s.filter((e=>{var t;return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase())===k.toLowerCase()})),i={};l.forEach((e=>{const a=e.subjectKey.toLowerCase(),r=s.filter((e=>{var t;return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase())===a}));if(r.length>0){const s=r.map((e=>e.percentage)).filter((e=>!isNaN(e)));i[a]={count:r.length,average:s.length>0?Math.round(s.reduce(((e,t)=>e+t),0)/s.length):0,name:e.name,color:e.accentColor||t.palette.grey[500]}}}));let c=null,d=null;const u=Object.values(i);u.length>0&&(c=u.reduce(((e,t)=>t.average>e.average?t:e),u[0]),d=u.reduce(((e,t)=>t.average<e.average?t:e),u[0]),c===d&&u.length>1&&(d=null));let x=[];"all"!==k&&n.length>0&&(x=n.filter((e=>{var t;return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase())===k.toLowerCase()})).map((e=>{const t=o.filter((t=>t.topicId===e.id));if(t.length>0){const a=Math.round(t.reduce(((e,t)=>e+t.percentage),0)/t.length);return{id:e.id,name:e.name,count:t.length,average:a}}return null})).filter(Boolean).sort(((e,t)=>t.average-e.average)));const m=o.length,h=m>0?Math.round(o.reduce(((e,t)=>e+t.percentage),0)/m):0,p={};o.forEach((e=>{const t=(0,A.GP)((0,g.o)((0,v.H)(e.timestamp)),"yyyy-MM-dd");p[t]=(p[t]||0)+1}));const C=(0,f.k)({start:r,end:e}).map((e=>(0,A.GP)(e,"yyyy-MM-dd"))),P={labels:C,datasets:[{label:"Quizzes Taken",data:C.map((e=>p[e]||0)),fill:!0,backgroundColor:(0,S.X4)(t.palette.primary.main,.3),borderColor:t.palette.primary.main,tension:.1}]},F={labels:Object.values(i).map((e=>e.name)),datasets:[{label:"Average Score (%)",data:Object.values(i).map((e=>e.average)),backgroundColor:Object.values(i).map((e=>(0,S.X4)(e.color,.7))),borderColor:Object.values(i).map((e=>e.color)),borderWidth:1}]};return{filteredResults:o,totalQuizzes:m,overallAverageScore:h,subjectStats:i,activityData:P,subjectAverageScoreChartData:F,bestSubject:c,weakestSubject:d,topicPerformance:x}}),[a,l,n,z,k,t]),G=(0,p.useMemo)((()=>({indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{callbacks:{label:e=>"Average: ".concat(e.parsed.x,"%")}}},scales:{x:{beginAtZero:!0,max:100,ticks:{color:t.palette.text.secondary,callback:e=>e+"%"},grid:{color:(0,S.X4)(t.palette.text.secondary,.1)},title:{display:!0,text:"Average Score (%)",color:t.palette.text.secondary}},y:{ticks:{color:t.palette.text.secondary},grid:{display:!1}}}})),[t.palette.text.secondary]);return{userResults:a,allSubjects:l,isLoadingData:c,error:u,timeFrequency:z,selectedSubject:k,isGeneratingPdf:R,processedStats:T,subjectAverageScoreChartOptions:G,activityChartRef:q,topicPerformanceRef:m,subjectAveragesChartRef:L,fetchDashboardData:N,handleTimeFrequencyChange:e=>P(e.target.value),handleSubjectChange:e=>F(e.target.value),handleGenerateReport:async()=>{M(!0);const t=D.find((e=>e.value===z));await w({currentUser:e,overallStats:{totalQuizzes:T.totalQuizzes,overallAverageScore:T.overallAverageScore},activityChartElement:q.current,subjectAveragesChartElement:L.current,topicPerformanceElement:m.current,isSubjectSelected:"all"!==k,timeFrequencyLabel:t?t.label:String(z)}),M(!1)}}})(z);return P?(0,N.jsxs)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",children:[(0,N.jsx)(l.A,{sx:{color:k}})," ",(0,N.jsx)(o.A,{sx:{ml:2},children:"Authenticating..."})]}):z?M?(0,N.jsxs)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",children:[(0,N.jsx)(l.A,{sx:{color:k}})," ",(0,N.jsx)(o.A,{sx:{ml:2},children:"Loading Dashboard Data..."})]}):q?(0,N.jsxs)(s.A,{sx:{py:2,px:{xs:1,sm:2}},children:[(0,N.jsx)(o.A,{variant:"h4",gutterBottom:!0,sx:{color:k,fontWeight:"bold",mb:1,textAlign:"center"},children:"My Dashboard"}),(0,N.jsx)(c.A,{severity:"error",sx:{m:2},children:q}),(0,N.jsx)(i.A,{onClick:_,variant:"outlined",sx:{display:"block",mx:"auto"},children:"Retry Loading Data"})]}):0!==F.length||M||q?(0,N.jsxs)(s.A,{sx:{py:{xs:1,sm:2},px:{xs:1,sm:2},width:"100%"},children:[(0,N.jsx)(G,{timeFrequency:L,onTimeFrequencyChange:K,allSubjects:R,selectedSubject:J,onSubjectChange:Z}),(0,N.jsxs)(d.A,{container:!0,spacing:{xs:"1%",sm:"1%",md:"0.667%",lg:"0.667%",xl:"0.667%"},sx:{mb:3},children:[(0,N.jsx)(d.A,{item:!0,width:{xs:"49.5%",sm:"49.5%",md:"24.5%",lg:"24.5%",xl:"24.5%"},children:(0,N.jsxs)(n.A,{sx:{p:{xs:2,sm:2.5},textAlign:"center",height:"100%",borderTop:"4px solid ".concat(k)},children:[(0,N.jsx)(o.A,{variant:"h6",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.125rem"}},children:"Total Quizzes Solved"}),(0,N.jsx)(o.A,{variant:"h3",sx:{color:k,fontWeight:"bold",fontSize:{xs:"2rem",sm:"2.5rem"}},children:O.totalQuizzes}),(0,N.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"all"!==J?"(in selected filter)":"(in selected period)"})]})}),(0,N.jsx)(d.A,{item:!0,width:{xs:"49.5%",sm:"49.5%",md:"24.5%",lg:"24.5%",xl:"24.5%"},children:(0,N.jsxs)(n.A,{sx:{p:{xs:2,sm:2.5},textAlign:"center",height:"100%",borderTop:"4px solid ".concat(k)},children:[(0,N.jsx)(o.A,{variant:"h6",color:"text.secondary",sx:{fontSize:{xs:"1rem",sm:"1.125rem"}},children:"Overall Average Score"}),(0,N.jsxs)(o.A,{variant:"h3",sx:{color:k,fontWeight:"bold",fontSize:{xs:"2rem",sm:"2.5rem"}},children:[O.overallAverageScore,"%"]}),(0,N.jsx)(o.A,{variant:"caption",color:"text.secondary",children:"all"!==J?"(in selected filter)":"(in selected period)"})]})}),"all"===J&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(d.A,{item:!0,width:{xs:"49.5%",sm:"49.5%",md:"24.5%",lg:"24.5%",xl:"24.5%"},mt:{xs:2,sm:2,md:0,lg:0,xl:0},children:(0,N.jsx)(U,{bestSubject:O.bestSubject})}),(0,N.jsx)(d.A,{item:!0,width:{xs:"49.5%",sm:"49.5%",md:"24.5%",lg:"24.5%",xl:"24.5%"},mt:{xs:2,sm:2,md:0,lg:0,xl:0},children:(0,N.jsx)(U,{weakestSubject:O.weakestSubject})})]})]}),(0,N.jsx)(s.A,{ref:W,children:"all"!==J&&(0,N.jsx)($,{topics:O.topicPerformance,subjectName:(null===(t=R.find((e=>e.subjectKey===J)))||void 0===t?void 0:t.name)||""})}),(0,N.jsx)(s.A,{ref:Q,children:(0,N.jsx)(H,{activityData:O.activityData,timeFrequency:L})}),(0,N.jsx)(s.A,{ref:B,sx:"all"===J?{}:V,children:(0,N.jsx)(E,{chartData:O.subjectAverageScoreChartData,chartOptions:I})}),(0,N.jsx)(X,{onGenerate:Y,isLoading:T,accentColor:k})]}):(0,N.jsxs)(s.A,{sx:{py:2,px:{xs:1,sm:2},textAlign:"center"},children:[(0,N.jsx)(o.A,{variant:"h4",gutterBottom:!0,sx:{color:k,fontWeight:"bold",mb:3},children:"My Dashboard"}),(0,N.jsx)(G,{timeFrequency:L,onTimeFrequencyChange:K}),(0,N.jsxs)(n.A,{sx:{p:3,mt:2,mx:"auto",maxWidth:"600px"},children:[(0,N.jsxs)(o.A,{variant:"h6",children:["Welcome, ",z.name,"!"]}),(0,N.jsx)(o.A,{sx:{my:2},children:"You haven't taken any quizzes yet. Start a quiz to see your progress here!"}),(0,N.jsx)(i.A,{variant:"contained",onClick:()=>x("/subjects"),sx:{backgroundColor:k},children:"Explore Quizzes"})]})]}):(0,N.jsxs)(n.A,{sx:{p:3,textAlign:"center",mt:4,mx:"auto",maxWidth:"600px",borderTop:"4px solid ".concat(k)},children:[(0,N.jsx)(o.A,{variant:"h6",children:"Please log in to view your dashboard."}),(0,N.jsx)(i.A,{variant:"contained",onClick:()=>x("/login"),sx:{mt:2,backgroundColor:k},children:"Login / Register"})]})}}}]);
//# sourceMappingURL=582.efedb68c.chunk.js.map